<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StreetSupply Hub | B2B Marketplace</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
</head>
<div id="google_translate_element"></div>
<script type="text/javascript">
function googleTranslateElementInit() {
  new google.translate.TranslateElement(
    {pageLanguage: 'en', includedLanguages: 'en,hi,te'},
    'google_translate_element'
  );
}
</script>
<script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
<body>
    <header class="landing-nav">
        <div class="nav-left-group">
            <button id="menu-btn" class="hidden" onclick="toggleSidebar()">â˜°</button>
            <h2 class="logo" onclick="location.reload()" style="cursor:pointer">StreetSupply<span>Hub</span></h2>
        </div>
        <div class="nav-right-group">
            <div id="search-container" class="search-wrapper">
                <input type="text" id="landing-search" placeholder="Search products..." onkeyup="filterProducts()">
            </div>
            <div class="cart-icon-wrapper" onclick="toggleCart()">
                <span>ğŸ›’</span>
                <span id="cart-count">0</span>
            </div>
            <div id="profile-wrapper" class="hidden profile-wrapper">
                <div class="profile-icon" onclick="toggleProfileMenu()" id="profile-icon">U</div>
                <div id="profile-dropdown" class="profile-dropdown hidden">
                    <div class="profile-info">
                        <div class="profile-circle" id="profile-letter">U</div>
                        <div>
                            <strong id="profile-display-name">User</strong><br>
                            <small id="profile-display-phone"></small>
                        </div>
                    </div>
            <hr>

<button onclick="openProfilePage()" class="profile-btn">
    ğŸ‘¤ Profile Settings
</button>
<button onclick="logout()" class="profile-btn logout-btn">
    ğŸšª Logout
</button>
                </div>
            </div>

            <button id="auth-nav-btn" class="btn-login-nav" onclick="showLogin()">Login</button>
        </div>
    </header>
    <!-- PROFILE SETTINGS PAGE -->
<div id="profile-page" class="hidden container">
    <h2>ğŸ‘¤ Profile Settings</h2>

    <div class="profile-box">
        <label>Name</label>
        <input type="text" id="profile-edit-name" class="input-field">

        <label>Phone</label>
        <input type="text" id="profile-edit-phone" class="input-field">

        <label>Business</label>
        <input type="text" id="profile-edit-business" class="input-field">

        <label>Address</label>
        <textarea id="profile-edit-address" class="input-field"></textarea>

        <button class="btn-primary" onclick="saveProfileChanges()">Save Changes</button>
    </div>
</div>
<div id="group-hub-page" class="hidden">
    <div class="container">
        <h2>ğŸ‘¥ Group Hub</h2>
        <div class="trend-section" style="padding:20px; margin-bottom:20px;">
            <h3>ğŸ” Add a Friend</h3>
            <div style="display:flex; gap:10px;">
                <input type="text" id="friend-search-input" class="input-field" placeholder="Search username (e.g., Rahul123)">
                <button class="btn-primary" style="width:auto;" onclick="searchFriend()">Search</button>
            </div>
            <div id="search-result" style="margin-top:15px;"></div>
        </div>

        <div style="display:grid; grid-template-columns: 1fr 1fr; gap:20px;">
            <div class="trend-section" style="padding:20px;">
                <h3>ğŸ¤ My Friends</h3>
                <ul id="friend-list" style="list-style:none; padding:0;">
                    <li style="color:#888;">No friends added yet.</li>
                </ul>
            </div>
            <div class="trend-section" style="padding:20px;">
                <h3>ğŸ“¦ Active Group (Min 5)</h3>
                <p id="group-count">Members: 1/5</p>
                <progress id="group-progress" value="1" max="5" style="width:100%;"></progress>
                <p id="group-benefit" style="color:#27ae60; font-weight:bold; margin-top:10px; display:none;">
                    âœ… 10% Group Discount Unlocked!
                </p>
            </div>
        </div>
    </div>
</div>

<!-- MY ORDERS PAGE -->


    <div id="left-sidebar" class="sidebar-hidden">
        <div class="sidebar-header">
            <h3>Menu</h3>
            <button onclick="toggleSidebar()" style="background:none; border:none; color:white; font-size:1.5rem; cursor:pointer;">Ã—</button>
        </div>
        <div id="sidebar-content" class="sidebar-links"></div>
    </div>

    <div id="landing-page" class="hidden">
        <section class="hero-mini" id="hero-section">
            <h1>Direct from <span class="highlight">Wholesalers</span></h1>
            <p>Verified raw materials with transparent pricing & digital bargaining.</p>
        </section>

        <div class="container">
            <section id="trend-section" class="trend-section">
                <h2>ğŸ“ˆ Recent Price Trends</h2>
                <div id="trend-list" class="trend-list"></div>
            </section>
        </div>

        <div class="category-bar">
            <button onclick="filterCategory('all')">All</button>
            <button onclick="filterCategory('vegetable')">Vegetables</button>
            <button onclick="filterCategory('oil')">Oils</button>
            <button onclick="filterCategory('flour')">Flours</button>
        </div>

        <section class="products-grid" id="product-list"></section>
    </div>

    <div id="cart-sidebar" class="cart-hidden">
        <div class="cart-header">
            <h3>Your Order</h3>
            <button class="close-btn" onclick="toggleCart()">Ã—</button>
        </div>
        <div id="cart-items">
            <p style="padding:20px; text-align:center;">Empty</p>
        </div>
        <div class="cart-footer">
            <p id="cart-total-footer" style="font-weight:bold"></p>
            <button class="btn-primary" onclick="placeOrder()">Checkout Now</button>
        </div>
    </div>

    <div id="auth-container">
        <div id="login-page" class="auth-card">
            <h2>Welcome Back</h2>
            <input type="text" id="login-name" class="input-field" placeholder="Full Name">
            <input type="tel" id="login-phone" class="input-field" placeholder="Phone Number">
            
            <div id="login-initial-action">
                <button class="btn-primary" onclick="sendOTP()">Send OTP</button>
            </div>

            <div id="otp-section" class="hidden" style="margin-top: 15px;">
                <p style="font-size: 0.8rem; color: #666; margin-bottom: 5px;">Enter 1234 to verify</p>
                <input type="text" id="otp-input" class="input-field otp-box" placeholder="0000" maxlength="4">
                <button class="btn-primary" onclick="verifyOTP()" style="margin-top:10px;">Verify & Enter Marketplace</button>
            </div>

            <p class="auth-footer">New here? <a href="#" onclick="showRegister()">Register Business</a></p>
        </div>

        <div id="register-page" class="auth-card hidden">
            <h2>Join The Hub</h2>
            <div class="role-selection">
                <div class="role-block" id="block-vendor" onclick="selectRole('vendor')"><h3>Vendor</h3></div>
                <div class="role-block" id="block-supplier" onclick="selectRole('supplier')"><h3>Supplier</h3></div>
            </div>
            <div id="registration-form" class="hidden">
                <input type="text" id="reg-name" class="input-field" placeholder="Full Name">
                <input type="text" id="reg-biz" class="input-field" placeholder="Business Name">
                <textarea id="reg-addr" class="input-field" placeholder="Full Business Address"></textarea>
                
                <div class="file-input-group">
                    <label>Masked Aadhaar (Required for Verification)</label>
                    <input type="file" id="reg-aadhaar">
                </div>

                <div id="supplier-product-section" class="hidden">
                    <input type="text" id="reg-products" class="input-field" placeholder="Products you will sell (e.g. Rice, Oil)">
                </div>

                <button class="btn-primary" onclick="finalizeRegistration()">Create Account</button>
                <p style="text-align:center; margin-top:10px;"><a href="#" onclick="showLogin()">Back to Login</a></p>
            </div>
        </div>
    </div>

    <div id="bargain-modal" class="hidden loan-popup">
        <div class="loan-box" style="width: 360px; padding: 30px;">
            <h3>ğŸ¤ Digital Bargain</h3>
            <p id="bargain-prod-name" style="font-weight:800; color:var(--primary); margin-bottom:5px;"></p>
            <p style="font-size: 0.9rem; margin-bottom: 15px;">Market Price: <span id="current-price-display"></span></p>
            
            <label style="font-size: 0.8rem; display: block; text-align: left;">Your Offer Price (per unit):</label>
            <input type="number" id="offer-price" class="input-field" placeholder="â‚¹ Enter Price">
            
            <label style="font-size: 0.8rem; display: block; text-align: left; margin-top: 10px;">Quantity required:</label>
            <input type="number" id="offer-qty" class="input-field" placeholder="Enter Quantity">
            
            <button class="btn-primary" onclick="submitBargain()" style="margin-top: 15px;">Send Offer to Supplier</button>
            <button class="btn-primary" style="background:#eee; color:#333; margin-top:8px;" onclick="closeBargain()">Cancel</button>
        </div>
    </div>

    <div id="seller-dashboard" class="hidden container"></div>

    <div id="previous-orders-page" class="hidden container" style="margin-top:40px;">
        <h2>ğŸ“¦ Previous Orders</h2>
        <div id="previous-orders-list"></div>
                <button class="btn-primary" onclick="goHome()" style="width:auto; padding: 10px 30px;">â¬… Back to Home</button>

        <br>
    </div>
    <div id="about-page" class="hidden">
        <div class="container" style="max-width: 800px; margin: 40px auto; line-height: 1.6;">
            <h2 style="color: #2c3e50; border-bottom: 2px solid #e67e22; padding-bottom: 10px;">About Our Marketplace</h2>
            <p style="margin-top: 20px; font-size: 1.1rem; color: #555;">
                Welcome to <strong>Direct Bargaining</strong>, the ultimate B2B bridge between local suppliers and small-scale vendors. 
                Our platform is designed to simplify bulk procurement through transparency and direct communication.
            </p>
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 30px;">
                <div style="background: #fdf2e9; padding: 20px; border-radius: 8px;">
                    <h4 style="color: #d35400;">For Vendors</h4>
                    <p>Access fresh stock at wholesale prices, join group orders to meet MOQs, and negotiate directly with suppliers to grow your business.</p>
                </div>
                <div style="background: #ebf5fb; padding: 20px; border-radius: 8px;">
                    <h4 style="color: #2980b9;">For Suppliers</h4>
                    <p>Manage your inventory in real-time, handle bulk bargain requests efficiently, and reach a wider network of verified local buyers.</p>
                </div>
            </div>
            
            <p style="margin-top: 30px; text-align: center; color: #7f8c8d;">
                <em>Empowering local trade through digital innovation.</em>
            </p>
            <button class="btn-primary" onclick="goHome()" style="margin-top: 20px;">Back to Home</button>
        </div>
    </div>

    <div id="tracking-page" class="hidden container" style="margin-top:40px;">
        <h2>ğŸ“ Order Tracking</h2>
        <div id="tracking-list"></div>
        <br>
        <button class="btn-primary" onclick="goHome()" style="width:auto; padding: 10px 30px;">â¬… Back to Home</button>
    </div>

    <script src="script.js"></script>
</body>
</html>
